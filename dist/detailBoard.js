(()=>{"use strict";var e={919:(e,n,t)=>{function s(){const e=document.querySelector(".nav-container"),n=document.querySelector("#signin"),t=document.querySelector("#signup"),s=sessionStorage.getItem("loginInfo"),i=`\n    <a href="/">\n      <img class="logo" src="/images/main-logo-purple.jpeg" alt="메인로고" />\n    </a>\n    <div class="right-items">\n      <div class="search-box">\n        <input type="text" class="search-txt" placeholder="검색어를 입력하세요." />\n        <button class="search--btn" href="#">\n          <i class="fas fa-search"></i>\n        </button>\n      </div>\n      ${s?'<button class="login" style="display: none">로그인</button><button class="logout">로그아웃</button>':'<button class="login">로그인</button><button class="logout" style="display: none">로그아웃</button>'}\n      ${s?'<button class="mypage--btn">마이페이지</button>':'<button class="mypage--btn" style="display: none">마이페이지</button>'}\n    </div>\n`;e.innerHTML=i,n.innerHTML='\n    <div class="login-box">\n      <div class="img-container">\n        <img src="/images/login.svg" alt="login" />\n      </div>\n      <div class="input-container">\n        <i class="fas fa-times" id="signin-close"></i>\n\n        <span>로그인</span>\n\n        <div class="info-container">\n          <b>E-mail</b>\n          <input type="text" class="email"/>\n          <b>Password</b>\n          <input type="password" class="password"/>\n          <button class="signin--btn">로그인</button>\n        </div>\n\n        <div class="move-signup-container">\n          <span>아직 회원이 아니신가요? </span><button class="move-signup">회원가입</button>\n        </div>\n      </div>\n    </div>\n',t.innerHTML='\n    <div class="login-box">\n      <div class="img-container">\n        <img src="/images/welcome.svg" alt="login" />\n      </div>\n      <div class="input-container">\n        <i class="fas fa-times" id="signup-close"></i>\n\n        <span>회원가입</span>\n\n        <div class="info-container">\n          <b>E-mail</b>\n          <input type="text" class="signup-email" />\n          <b>Nickname</b>\n          <input type="text" class="signup-nickname"/>\n          <b>Password</b>\n          <input type="password" class="signup-password"/>\n          <button class="signup--btn">회원가입</button>\n        </div>\n      </div>\n    </div>\n'}t.d(n,{l:()=>s})},817:(e,n,t)=>{function s(e,n){return"email"===e?!!/([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(n):"password"===e?!!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,16}$/.test(n):!(n.length<2)}function i(){const e=document.querySelector(".login"),n=document.querySelector(".logout"),t=document.querySelector("#signin"),i=document.querySelector(".signin--btn"),o=document.querySelector("#signup"),a=document.querySelector("#signin-close"),l=document.querySelector("#signup-close"),r=document.querySelector(".move-signup"),c=document.querySelector(".email"),d=document.querySelector(".password"),u=document.querySelector(".signup--btn"),p=document.querySelector(".signup-email"),y=document.querySelector(".signup-nickname"),m=document.querySelector(".signup-password");e.addEventListener("click",(async()=>{t.style.display="flex"})),i.addEventListener("click",(async()=>{const t=c.value,i=d.value;if(!s("email",t))return void alert("이메일 형식이 옳바르지 않습니다.");if(!s("password",i))return void alert("숫자, 영문으로 이루어진 8 ~ 16자리 비밀번호만 가능합니다.");const o=await axios.post("http://localhost:5000/user/login",{email:t,password:i},{withCredentials:!0}),{message:a,nickname:l}=o.data;if(200===o.status||"login Ok"===a){e.style.display="none",n.style.display="block";const t={nickname:l,isCheck:!0};sessionStorage.setItem("loginInfo",JSON.stringify(t)),window.location.href="/index.html"}else{if("email check"===a)return void alert("이메일을 다시 확인해주세요.");if("password check"===a)return void alert("비밀번호를 다시 확인해주세요.")}})),n.addEventListener("click",(async()=>{document.querySelector(".mypage--btn").style.display="none",e.style.display="block",n.style.display="none",await axios.get("http://localhost:5000/user/logout",{withCredentials:!0}),sessionStorage.removeItem("loginInfo"),window.location.href="/index.html"})),a.addEventListener("click",(()=>{t.style.display="none"})),r.addEventListener("click",(()=>{t.style.display="none",o.style.display="flex"})),u.addEventListener("click",(async()=>{const e=p.value,n=m.value,t=y.value;if(!s("email",e))return void alert("이메일 형식이 옳바르지 않습니다.");if(!s("password",n))return void alert("숫자, 영문, 특수문자로 이루어진 8 ~ 16자리 비밀번호만 가능합니다.");if(!s("nickname",t))return void alert("1자리 이상의 닉네임만 가능합니다.");const i=await axios.post("http://localhost:5000/user/signUp",{email:e,nickname:t,password:n},{withCredentials:!0}),{message:o}=i.data;if("signup Ok"===o)window.location.href="/index.html";else{if("email already exist"===o)return alert("중복된 이메일 입니다."),void p.focus();if("nickname already exist"===o)return alert("중복된 닉네임 입니다."),void y.focus()}})),l.addEventListener("click",(()=>{o.style.display="none"}))}t.d(n,{k:()=>i})}},n={};function t(s){var i=n[s];if(void 0!==i)return i.exports;var o=n[s]={exports:{}};return e[s](o,o.exports,t),o.exports}t.d=(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=t(919),n=t(817);(0,e.l)(),(0,n.k)();const s=document.querySelector("#modify"),i=document.querySelector("#remove"),o=document.querySelector("#like"),a=document.querySelector("#unLike"),l=JSON.parse(localStorage.board_id);l&&axios.get(`http://localhost:5000/board/${l}`,{Credential:!0}).then((e=>{console.log("실행");const{nickname:n,title:t,content:a}=e.data[0];if(sessionStorage.getItem("loginInfo")){const{user:e}=JSON.parse(sessionStorage.getItem("loginInfo"));n===e&&(s.style.display="inline",i.style.display="inline"),o.style.display="inline"}const l=document.querySelector(".title"),r=document.querySelector(".content");l&&(l.textContent=t),r&&(r.innerHTML=a)})),s&&s.addEventListener("click",(()=>{window.location.href="./createboard.html"})),i&&i.addEventListener("click",(()=>{if(!0!==confirm("정말로 삭제하시겠습니까?"))return!1;axios.delete(`http://localhost:5000/board/${id}`).then((()=>{window.location.href="/"}))})),o&&o.addEventListener("click",(()=>{o.style.display="none",a.style.display="inline"})),a&&a.addEventListener("click",(()=>{o.style.display="inline",a.style.display="none"}))})()})();