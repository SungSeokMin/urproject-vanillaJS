(()=>{"use strict";var n,e,t={919:(n,e,t)=>{function s(){const n=document.querySelector(".nav-container"),e=document.querySelector("#signin"),t=document.querySelector("#signup"),s=sessionStorage.getItem("loginInfo"),i=`\n    <a href="/">\n      <img class="logo" src="/images/main-logo-purple.jpeg" alt="메인로고" />\n    </a>\n    <div class="right-items">\n      <div class="search-box">\n        <input type="text" class="search-txt" placeholder="검색어를 입력하세요." />\n        <button class="search--btn" href="#">\n          <i class="fas fa-search"></i>\n        </button>\n      </div>\n      ${s?'<button class="login" style="display: none">로그인</button><button class="logout">로그아웃</button>':'<button class="login">로그인</button><button class="logout" style="display: none">로그아웃</button>'}\n      ${s?'<button class="mypage--btn">마이페이지</button>':'<button class="mypage--btn" style="display: none">마이페이지</button>'}\n    </div>\n`;n.innerHTML=i,e.innerHTML='\n    <div class="login-box">\n      <div class="img-container">\n        <img src="/images/login.svg" alt="login" />\n      </div>\n      <div class="input-container">\n        <i class="fas fa-times" id="signin-close"></i>\n\n        <span>로그인</span>\n\n        <div class="info-container">\n          <b>E-mail</b>\n          <input type="text" class="email"/>\n          <b>Password</b>\n          <input type="password" class="password"/>\n          <button class="signin--btn">로그인</button>\n        </div>\n\n        <div class="move-signup-container">\n          <span>아직 회원이 아니신가요? </span><button class="move-signup">회원가입</button>\n        </div>\n      </div>\n    </div>\n',t.innerHTML='\n    <div class="login-box">\n      <div class="img-container">\n        <img src="/images/welcome.svg" alt="login" />\n      </div>\n      <div class="input-container">\n        <i class="fas fa-times" id="signup-close"></i>\n\n        <span>회원가입</span>\n\n        <div class="info-container">\n          <b>E-mail</b>\n          <input type="text" class="signup-email" />\n          <b>Nickname</b>\n          <input type="text" class="signup-nickname"/>\n          <b>Password</b>\n          <input type="password" class="signup-password"/>\n          <button class="signup--btn">회원가입</button>\n        </div>\n      </div>\n    </div>\n'}t.d(e,{l:()=>s})},817:(n,e,t)=>{function s(n,e){return"email"===n?!!/([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e):"password"===n?!!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,16}$/.test(e):!(e.length<2)}function i(){const n=document.querySelector(".login"),e=document.querySelector(".logout"),t=document.querySelector("#signin"),i=document.querySelector(".signin--btn"),o=document.querySelector("#signup"),a=document.querySelector("#signin-close"),l=document.querySelector("#signup-close"),r=document.querySelector(".move-signup"),c=document.querySelector(".email"),u=document.querySelector(".password"),d=document.querySelector(".signup--btn"),p=document.querySelector(".signup-email"),m=document.querySelector(".signup-nickname"),g=document.querySelector(".signup-password");n.addEventListener("click",(async()=>{t.style.display="flex"})),i.addEventListener("click",(async()=>{const t=c.value,i=u.value;if(!s("email",t))return void alert("이메일 형식이 옳바르지 않습니다.");if(!s("password",i))return void alert("숫자, 영문으로 이루어진 8 ~ 16자리 비밀번호만 가능합니다.");const o=await axios.post("http://localhost:5000/user/login",{email:t,password:i},{withCredentials:!0}),{message:a,nickname:l}=o.data;if(200===o.status||"login Ok"===a){n.style.display="none",e.style.display="block";const t={nickname:l,isCheck:!0};sessionStorage.setItem("loginInfo",JSON.stringify(t)),window.location.href="/index.html"}else{if("email check"===a)return void alert("이메일을 다시 확인해주세요.");if("password check"===a)return void alert("비밀번호를 다시 확인해주세요.")}})),e.addEventListener("click",(async()=>{document.querySelector(".mypage--btn").style.display="none",n.style.display="block",e.style.display="none",await axios.get("http://localhost:5000/user/logout",{withCredentials:!0}),sessionStorage.removeItem("loginInfo"),window.location.href="/index.html"})),a.addEventListener("click",(()=>{t.style.display="none"})),r.addEventListener("click",(()=>{t.style.display="none",o.style.display="flex"})),d.addEventListener("click",(async()=>{const n=p.value,e=g.value,t=m.value;if(!s("email",n))return void alert("이메일 형식이 옳바르지 않습니다.");if(!s("password",e))return void alert("숫자, 영문, 특수문자로 이루어진 8 ~ 16자리 비밀번호만 가능합니다.");if(!s("nickname",t))return void alert("1자리 이상의 닉네임만 가능합니다.");const i=await axios.post("http://localhost:5000/user/signUp",{email:n,nickname:t,password:e},{withCredentials:!0}),{message:o}=i.data;if("signup Ok"===o)window.location.href="/index.html";else{if("email already exist"===o)return alert("중복된 이메일 입니다."),void p.focus();if("nickname already exist"===o)return alert("중복된 닉네임 입니다."),void m.focus()}})),l.addEventListener("click",(()=>{o.style.display="none"}))}t.d(e,{k:()=>i})}},s={};function i(n){var e=s[n];if(void 0!==e)return e.exports;var o=s[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.d=(n,e)=>{for(var t in e)i.o(e,t)&&!i.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},i.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),n=i(919),e=i(817),(0,n.l)(),(0,e.k)()})();